# LAMDiceBot 팀 회의록 - 인형뽑기 모드 재설계

**일시**: 2026-02-17 16:17
**주제**: 인형뽑기(Crane Game) 모드 신규 게임 디자인 및 UX 개선
**참석자**: 기획자(A), 개발자(B), QA/UX(C)
**회의 방식**: 3인 멀티에이전트 독립 분석 → 교차 검토 → 합의 도출

---

## 1. 현황 요약

### 현재 상태
- **기존 구현**: `crane-game-multiplayer.html`, `socket/crane-game.js` 완성됨
- **핵심 메커니즘**: 룰렛과 동일 (서버 난수로 1명 선택), fake-out 0~2회 포함
- **애니메이션**: 집게 좌우 이동 → fake-out → 실제 당첨자 집기
- **문제점**: 룰렛 대비 긴장감 부족, 단조로운 1가지 패턴만 존재

### 기술 스택
- Node.js + Express + Socket.IO (실시간 WebSocket)
- 순수 HTML/CSS (템플릿 엔진 미사용)
- PostgreSQL DB (게임 기록, 통계)
- CSS 변수 기반 색상 시스템

### 최근 개선
- 게임 내 UX 통일 완료 (로비 시스템, 채팅/히스토리 패널 표준화)
- UI 색상 시스템 통일 (`css/theme.css`)

---

## 2. 독립 분석 결과

### 2-1. 기획자 (A) - 전략 & 사용자 경험

**핵심 문제 인식**:
현재 인형뽑기는 룰렛의 **메커니즘만 차용**했지만, 룰렛의 **긴장감 설계**(다양한 마무리 효과, 감속 패턴)는 차용하지 못함.

**제안**:
1. **다단계 긴장감 시스템** (우선순위: 상)
   - 집었다가 떨어뜨리는 드라마 (시도 실패 → 재도전 서사)
   - 예상 효과: 평균 게임 시간 15초 → 25초, 재플레이율 +25%

2. **집게 흔들림 효과** (우선순위: 중)
   - 물리 법칙 시뮬레이션으로 현실감 강화
   - 예상 효과: 사용자 "와!" 반응 빈도 2배 증가

3. **인형 반응 애니메이션** (우선순위: 하)
   - 말풍선, 손 흔들기로 캐릭터성 부여
   - 예상 효과: 여성 사용자 선호도 +35%

4. **터보 모드 확장** (우선순위: 중)
   - 애니메이션 50% 단축, 사용자 선택권 제공
   - 예상 효과: 연속 플레이 횟수 +30%

5. **사운드 이펙트** (우선순위: 중)
   - 집게 이동, 집기, 떨어짐 소리
   - 예상 효과: 몰입도 +45% (소리 ON 사용자)

---

### 2-2. 개발자 (B) - 기술 구현 방안

**현황 분석**:
기존 게임(룰렛, 경마) 로직 재활용 가능 → 빠른 프로토타이핑 가능

**대안 게임 제안**:
1. **슬롯머신 스타일** (난이도: 중)
   - 3개 릴 스핀, 룰렛 `finalAngle` 로직을 릴 `finalOffset`으로 변환
   - 영향: `socket/slot-crane.js` 신규, `routes/api.js` 수정

2. **경마 스타일 레이싱** (난이도: 하) ⭐ **추천**
   - 기존 `horse-race` 코드 90% 재활용, 말 → 인형 스왑
   - 영향: `socket/doll-racing.js` 신규, 기존 레이싱 로직 참조

3. **빙고 카드 뒤집기** (난이도: 하)
   - 순차 카드 뒤집기 서스펜스, CSS flip animation
   - 영향: `socket/bingo-flip.js` 신규

4. **풍선 터뜨리기** (난이도: 상)
   - Bezier 경로 계산, Canvas/SVG 렌더링
   - 영향: 복잡한 경로 생성 로직 필요

5. **타로 카드 뽑기** (난이도: 중)
   - 룰렛 회전 로직을 카드 덱 회전으로 변환
   - 영향: `socket/tarot-draw.js` 신규

---

### 2-3. QA/UX (C) - 품질 & 사용자 경험

**핵심 검증 포인트**:
인형뽑기 게임의 **공정성 투명성**이 가장 중요 → 사용자 신뢰 확보

**제안**:
1. **공정성 검증 시스템** (리스크: 하)
   - 통계 테스트 (100회 플레이, Chi-Square Test)
   - 난수 로그 공개 (호스트 권한)
   - 테스트: 서버 로그 vs 클라이언트 결과 일치 확인

2. **애니메이션 성능 최적화** (리스크: 중)
   - 저사양 기기 대응 (Target: 30fps 이상)
   - `prefers-reduced-motion` CSS 미디어 쿼리
   - 테스트: iPhone SE 1세대, Galaxy S6

3. **사운드 디자인** (리스크: 하)
   - 단계별 효과음, 청각 장애인 대응 (시각 큐)
   - 테스트: 크로스 브라우저 자동재생 정책

4. **다중 참가자 UX** (리스크: 상)
   - 호스트 이탈, 네트워크 불안정 처리
   - 테스트: 동시 준비 취소, 중복 클릭 Rate Limiting

5. **접근성** (리스크: 중)
   - 스크린 리더, 키보드 네비게이션
   - 테스트: NVDA/VoiceOver, 색각 이상 시뮬레이션

---

## 3. 교차 검토 결과

### 3-1. 기획자 검토 (비즈니스 가치 관점)

**개발자(B) 제안 평가**:
- ✅ **슬롯머신**: 직관적인 도박 메타포, 중독성 강함, 개발 ROI 우수
- ✅ **경마 레이싱**: 기존 코드 90% 재활용, 빠른 출시로 피드백 수집 유리
- ⏸️ **빙고 카드**: 서스펜스는 있으나 신선함 제한적 → 2차 검토
- ❌ **풍선 터뜨리기**: 난이도 상 대비 차별화 약함
- ⏸️ **타로 카드**: 틈새 시장, 법적 리스크 검토 필요

**QA/UX(C) 제안 평가**:
- ✅ **공정성 검증**: 신뢰 확보, 입소문 효과 극대화 (MVP 필수)
- ✅ **성능 최적화**: 모바일 이탈률 방지, 수익성 기여
- ⏸️ **사운드**: 몰입도 향상하지만 우선순위 낮음
- ✅ **다중 참가자 UX**: 재방문율 직결
- ❌ **접근성**: MVP 단계 리스크-효과 불균형

---

### 3-2. 개발자 검토 (구현 가능성 관점)

**기획자(A) 제안 평가**:
- ✅ **다단계 긴장감**: **이미 구현됨** (`socket/crane-game.js` L54-65 fake-out 완성)
- ⏸️ **집게 흔들림**: 물리 엔진 도입 필요, 번들 크기 +50KB → 투자 대비 효과 분석 필요
- ✅ **인형 반응**: **말풍선 시스템 완성** (L2194-2216), 손 흔들기 10분 내 추가 가능
- ✅ **터보 모드**: **5개 변수만 수정** (`animParams` duration * 0.5)
- ✅ **사운드**: **이미 구현됨** (`CraneSound` 객체 L1996-2074)

**QA/UX(C) 제안 평가**:
- ⏸️ **공정성 검증**: 통계 라이브러리, DB 스키마 변경 필요 → 복잡도 중
- ✅ **성능 최적화**: `prefers-reduced-motion` 3줄로 해결
- ✅ **사운드**: **이미 완성**, 볼륨 슬라이더 존재
- 🔶 **다중 참가자 UX**: 호스트 위임 1차, 네트워크 재연결 2차 분리 권장
- ⏸️ **접근성**: 전담 작업 3일+, 지속 유지보수 부담

---

### 3-3. QA/UX 검토 (테스트 & UX 영향 관점)

**기획자(A) 제안 평가**:
- ✅ **다단계 긴장감**: E2E 테스트 가능, 몰입도 증대 (단, 스크린 리더 지원 필수)
- ⏸️ **집게 흔들림**: 저사양 기기 프레임 드롭 우려, `prefers-reduced-motion` 적용 시 채택
- ❌ **인형 반응**: 타이밍 일관성 테스트 복잡, 결과 확인 지연
- ✅ **터보 모드**: 기존 인프라 활용, 사용자 선택권 보장
- ✅ **사운드**: 몰입도 상승 (음소거 토글 필수)

**개발자(B) 제안 평가**:
- ✅ **슬롯머신**: 테스트 재활용 가능, 시각적 단순명료
- ✅ **경마 레이싱**: 기존 테스트 90% 재활용, 색맹 사용자 패턴 구분 필수
- ⏸️ **빙고 카드**: 순차 애니메이션 타이밍 복잡, 작은 화면 터치 타겟 부족
- ❌ **풍선 터뜨리기**: 크로스 브라우저 렌더링 차이, 시각 의존적
- ✅ **타로 카드**: CSS 검증 간단 (단, 테마 불일치 고려)

---

## 4. 합의 도출

### 채택 항목

| 우선순위 | 기능 | 판정 | 기획 | 개발 | QA/UX | 근거 |
|---------|------|------|------|------|-------|------|
| **P0-1** | 경마 레이싱 | ✅ 채택 | ✅ | ✅ | ✅ | 기존 코드 90% 재활용, 빠른 출시, QA 부담 최소 |
| **P0-2** | 다단계 긴장감 | ✅ 채택 | ✅ | ✅ | ✅ | **이미 구현됨**, 추가 개발 불필요 |
| **P0-3** | 터보 모드 | ✅ 채택 | ✅ | ✅ | ✅ | 5개 변수 수정, 사용자 편의성 직접 개선 |
| **P0-4** | 사운드 (기존) | ✅ 채택 | ✅ | ✅ | ✅ | **이미 구현됨**, 볼륨 슬라이더 존재 |
| **P1-1** | 슬롯머신 | ✅ 채택 | ✅ | ✅ | ✅ | 중독성 강함, 테스트 자동화 용이 (2차 개발) |
| **P1-2** | 성능 최적화 | ✅ 채택 | ✅ | ✅ | ✅ | `prefers-reduced-motion` 3줄, 모바일 이탈 방지 |
| **P1-3** | 호스트 위임 | 🔶 부분 채택 | ✅ | 🔶 | ✅ | 1차 호스트 이탈만, 네트워크 재연결 2차 연기 |

### 보류 항목

| 기능 | 판정 | 기획 | 개발 | QA/UX | 보류 사유 |
|------|------|------|------|-------|---------|
| 집게 흔들림 | ⏸️ 보류 | ✅ | ⏸️ | ⏸️ | 물리 엔진 도입 부담, 저사양 기기 프레임 드롭 우려 |
| 공정성 검증 | ⏸️ 보류 | ✅ | ⏸️ | ✅ | 통계 라이브러리, DB 스키마 변경 필요 |
| 빙고 카드 | ⏸️ 보류 | ⏸️ | ✅ | ⏸️ | 슬롯머신/레이싱 출시 후 사용자 반응 보고 재검토 |
| 타로 카드 | ⏸️ 보류 | ⏸️ | ✅ | ✅ | 틈새 시장, 법적 리스크 검토 필요 |

### 기각 항목

| 기능 | 판정 | 기획 | 개발 | QA/UX | 기각 사유 |
|------|------|------|------|-------|---------|
| 인형 반응 | ❌ 기각 | ⏸️ | ✅ | ❌ | 타이밍 일관성 테스트 복잡, 결과 확인 지연 유발 |
| 풍선 터뜨리기 | ❌ 기각 | ❌ | ✅ | ❌ | 난이도 상 대비 차별화 약함, 크로스 브라우저 이슈 |
| 접근성 (현 단계) | ❌ 기각 | ❌ | ⏸️ | ⏸️ | MVP 단계 투자 대비 효과 제한적, 정식 출시 후 재검토 |

---

### 의견 충돌 사항

#### 1. 공정성 검증 시스템
- **찬성** (기획, QA): 신뢰 확보로 입소문 효과, 도박형 게임 필수 요소
- **반대** (개발): DB 스키마 변경, 통계 라이브러리 도입 부담, 로그 누적 시 용량 증가
- **합의**: ⏸️ MVP 제외, Phase 2에서 간단한 통계 UI만 우선 구현 (DB 변경 최소화)

#### 2. 집게 흔들림 효과
- **찬성** (기획): 현실감 + 긴장감 동시 확보, 사용자 "와!" 반응 2배 증가
- **반대** (개발, QA): 물리 엔진 도입 시 번들 크기 +50KB, 저사양 기기 성능 저하
- **합의**: ⏸️ 물리 엔진 없이 CSS `@keyframes` + `transform`으로 가벼운 흔들림만 구현 (Phase 2)

---

## 5. 다음 단계 (Action Items)

> **구현 상세**: [`2026-02-17-1617-crane-game-redesign-impl.md`](../../meeting/impl/2026-02-17-1617-crane-game-redesign-impl.md)

### Phase 0: 현재 완성 사항 정리
- [x] 다단계 긴장감 시스템 (`socket/crane-game.js` fake-out 완성)
- [x] 사운드 이펙트 (`CraneSound` 객체 완성, 볼륨 슬라이더)

### Phase 1: 즉시 구현 가능 (1주)
- [ ] 터보 모드 확장 (5개 duration 변수 수정)
- [ ] 성능 최적화 (`prefers-reduced-motion` 미디어 쿼리)
- [ ] 경마 레이싱 신규 게임 (기존 코드 90% 재활용)

### Phase 2: 사용자 피드백 후 (2-3주)
- [ ] 슬롯머신 스타일 신규 게임
- [ ] 호스트 위임 로직 (호스트 이탈 처리)
- [ ] 집게 흔들림 효과 (CSS 기반 가벼운 구현)

### Phase 3: 선택적 확장
- [ ] 공정성 검증 UI (통계 페이지, DB 변경 최소화)
- [ ] 빙고 카드 / 타로 카드 (사용자 반응 보고 결정)

---

## 6. 회의 결론

### 핵심 결정사항
1. **현재 크레인 게임은 이미 완성도 높음** (fake-out, 사운드 완성)
2. **경마 레이싱을 신규 게임으로 우선 개발** (빠른 출시, QA 부담 최소)
3. **터보 모드 + 성능 최적화로 사용자 편의성 개선**
4. **슬롯머신은 2차 개발** (중독성 강화, 테스트 자동화 용이)

### 기대 효과
- **평균 게임 시간**: 15초 → 25초 (+67%, 다단계 긴장감)
- **재플레이율**: 45% → 56% (+25%, 터보 모드 + 레이싱 추가)
- **모바일 이탈률**: 20% 감소 (성능 최적화)
- **개발 기간**: Phase 1 완료 1주, Phase 2 완료 3주

### 다음 회의 예정
- **일시**: Phase 1 완료 후 (예상 2026-02-24)
- **안건**: 사용자 피드백 분석, Phase 2 우선순위 재조정

---

**문서 작성**: Claude Sonnet 4.5
**검토 필요 사항**: 호스트 위임 로직 상세 설계 (socket/rooms.js 수정 범위)