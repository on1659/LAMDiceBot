# LAMDiceBot 팀 회의록 - 낚시 게임 설계

**일시**: 2026-02-17 18:57
**주제**: 낚시 게임 (Fishing Game) 설계 및 구현 계획
**참석자**: 기획자(A), 개발자(B), QA/UX(C)
**회의 방식**: 3인 멀티에이전트 독립 분석 → 교차 검토 → 합의 도출

---

## 1. 현황 요약

### 현재 상태
- **운영 중인 게임**: 주사위, 룰렛, 경마, 팀 배정
- **테스트 파일**: test-doll-racing.html, test-crane-game.html 등 6개 → 사용자 평가 "별로"
- **핵심 가치**: 100% 공정성 (서버 난수 생성), 실시간 WebSocket 동기화
- **기술 스택**: Node.js + Express + Socket.IO, PostgreSQL

### 새 아이디어: 낚시 게임
**컨셉**: 물고기들이 플레이어 이름을 달고 수족관에서 흐름 → 낚시대 내려옴 → 여러 명 붙음 → 최종 1명 낚임

**차별화 포인트**:
- 룰렛의 단조로움 해결: 45초 긴장감 (물고기 움직임 30초 + 낚시 15초)
- 경마의 흥미 저하 해결: "최종 1명"만 선택 → 끝까지 누구든 가능성 있음
- 인형뽑기의 정적 연출 개선: 물고기가 계속 움직여 생동감 UP

---

## 2. 독립 분석 결과

### 2-1. 기획자 (A) 제안

#### 1. 긴장감 역전 시스템 (Tension Reversal Mechanic) - 우선순위: 상
- **전략적 의의**: LAMDiceBot의 "100% 공정성"을 가장 극적으로 보여주는 게임
- **사용자 가치**:
  - 경마/인형레이싱의 "1등/꼴등 보이면 흥미 없음" 문제 해결
  - 룰렛 대비 3배 긴 몰입 시간 (45초)
  - 채팅으로 "야 비켜!" 같은 상호작용 유발

#### 2. 스펙테이터 투표 시스템 (Spectator Prediction) - 우선순위: 중
- **전략적 의의**: 관전자도 "누가 걸릴까" 예측 → 방 체류 시간 증가
- **사용자 가치**:
  - 관전자 이탈 방지
  - 투표 정답자 리워드 (포인트, 뱃지)
  - 비게임 활용 (회식 장소 추첨 등)

#### 3. 페이크 히트 멀티플레이 (Fake Hit Multiplayer) - 우선순위: 상
- **전략적 의의**: 여러 명 붙음 → 하나씩 떨어짐 → 최종 1명 → 감정 롤러코스터
- **사용자 가치**:
  - "희망 고문"의 쾌감
  - 채팅 폭발 유도 ("ㅋㅋㅋ 살았다!", "망했어...")
  - 리플레이 가치 (다시보기 기능)

#### 4. 수족관 테마 커스터마이징 (Aquarium Theme) - 우선순위: 중
- **전략적 의의**: 시각적 독창성 (경쟁 게임 대비 차별화)
- **사용자 가치**:
  - 물고기 종류 선택 (금붕어, 상어 등)
  - 배경 커스터마이징 (산호초, 보물상자 등)
  - 캐릭터 애착 형성

#### 5. 채팅 물풍선 시스템 (Chat Bubble on Fish) - 우선순위: 상
- **전략적 의의**: 인형뽑기 말풍선 기능 완전 활용
- **사용자 가치**:
  - 채팅 가독성 (누가 말했는지 명확)
  - 유머 요소 ("살려줘ㅠㅠ" → 물고기 연극 효과)

---

### 2-2. 개발자 (B) 제안

#### 1. 실시간 물고기 이동 + 동기화 보장 시스템 - 난이도: 중
- **구현 방법**:
  - seededRandom (crypto 모듈) + Bézier 곡선
  - 경마 `calculateHorseRaceResult()` 패턴 차용
  - 모든 클라이언트 동일 시드로 경로 재현
- **영향 파일**: 신규 `socket/fishing.js`, `fishing-multiplayer.html`, `utils/fishing-path.js`
- **재사용률**: 경마 40%

#### 2. 낚시대 낚기 순서 → 최종 1명 당첨 알고리즘 - 난이도: 중
- **구현 방법**:
  - 룰렛 당첨 로직 변형
  - 1단계: 랜덤 확률로 "물림" 상태 부여
  - 2단계: 서버에서 떨어짐 순서 계산
  - 3단계: 클라이언트 순차 애니메이션
- **영향 파일**: 신규 `utils/fishing-result.js`

#### 3. 경마 기믹 시스템 차용 + 물고기별 특성 - 난이도: 하
- **구현 방법**:
  - 경마 `gimmicksData` 재사용 → 물고기 기믹
  - `selectedVehicleTypes` → `selectedFishTypes`
  - 물 흐름 스케줄 (경마 날씨 대신)
- **영향 파일**: 신규 `config/fishing/game.json`

#### 4. 슬로우모션 + 카메라 전환 (최종 낚기 순간 연출) - 난이도: 하
- **구현 방법**:
  - 경마 `slowMotionTriggered` 로직 재사용
  - CSS `transform: scale()` 줌인
  - 서버 타이밍 전송 → 클라이언트 동기화
- **영향 파일**: 신규 `css/fishing.css`

#### 5. 준비 → 게임 시작 → 결과 자동 준비 (경마 패턴 복제) - 난이도: 하
- **구현 방법**:
  - `readyUsers` 배열 사용
  - `startFishing` → `fishingStarted` → `fishingAnimationComplete`
  - 경마 핸들러 구조 거의 그대로 복사
- **영향 파일**: `socket/fishing.js` (전체 게임 흐름)

---

### 2-3. QA/UX (C) 제안

#### 1. 동기화 정확성 검증 체계 - 리스크: 상
- **테스트 방법**:
  - 다수 클라이언트 (5개 브라우저) 동시 접속
  - 네트워크 throttling (3G, 4G)
  - 스크린샷 픽셀 단위 비교
- **UX 개선점**:
  - 서버 시간 기준 동기화
  - "동기화 중..." 인디케이터
  - 연결 불안정 경고

#### 2. 모바일 터치 조작 최적화 - 리스크: 중
- **테스트 방법**:
  - iOS Safari, Android Chrome 테스트
  - 화면 회전 대응 확인
  - 엄지 접근 영역 (Thumb Zone) 검증
- **UX 개선점**:
  - 터치 영역 최소 44×44px
  - 진동 피드백 (Navigator.vibrate)
  - 모바일 하단 고정 버튼

#### 3. 시각적 피드백 강화 (애니메이션 + 효과) - 리스크: 하
- **테스트 방법**:
  - 색약 시뮬레이터 검증
  - 애니메이션 타이밍 A/B 테스트
  - 저사양 기기 프레임 드랍 측정
- **UX 개선점**:
  - 물고기 색상 + 아이콘 중복 표시 (색약 대응)
  - 카운트다운 오버레이 (3, 2, 1...)
  - 당첨 순간: 금색 테두리 + 축하 BGM
  - 애니메이션 끄기 옵션

#### 4. 사운드/BGM 전략 및 접근성 - 리스크: 하
- **테스트 방법**:
  - 자동재생 정책 (Chrome, Safari) 준수 확인
  - 음소거 상태 게임 진행 검증
  - 여러 탭 동시 재생 충돌 확인
- **UX 개선점**:
  - 배경음: 물속 소리 루프
  - 효과음: splash, reel, fanfare
  - 사운드 토글 버튼 + localStorage 저장
  - 청각 장애 대응: 시각적 대체 표시

#### 5. Edge Case 대응 및 에러 핸들링 - 리스크: 상
- **테스트 방법**:
  - 인원 과다 (20명 이상) 시뮬레이션
  - 네트워크 단절 재접속 검증
  - 호스트 퇴장 시 게임 중단/재시작
- **UX 개선점**:
  - 인원 제한 (12명) 또는 스크롤 수족관
  - 네트워크 재연결 로딩 화면
  - 호스트 자동 이양
  - 명확한 에러 메시지

---

## 3. 교차 검토 결과

### 3-1. 기획자 검토 (개발자 B, QA/UX C 제안 평가)

#### 개발자(B) 제안 평가
1. **실시간 물고기 이동 동기화** - 비즈니스 가치: 상 → **즉시**
2. **낚기 순서 알고리즘** - 비즈니스 가치: 상 → **즉시**
3. **경마 기믹 차용** - 비즈니스 가치: 중 → **Phase 2** (MVP 축소)
4. **슬로우모션 카메라** - 비즈니스 가치: 중 → **즉시** (모바일 테스트 필수)
5. **준비 플로우** - 비즈니스 가치: 하 → **즉시** (비용 대비 효과 양호)

#### QA/UX(C) 제안 평가
1. **동기화 검증** - 비즈니스 가치: 상 → **즉시** (출시 전 필수)
2. **모바일 최적화** - 비즈니스 가치: 상 → **즉시** (트래픽 70% 모바일)
3. **시각적 피드백** - 비즈니스 가치: 중 → **Phase 2** (색약 대응은 우선)
4. **사운드/BGM** - 비즈니스 가치: 중 → **Phase 2** (MVP는 효과음만)
5. **Edge Case 대응** - 비즈니스 가치: 중 → **즉시** (호스트 퇴장만 필수)

**비즈니스 우선순위 Top 3**:
1. 동기화 시스템 (B-1 + C-1) — 신뢰성 = 생존
2. 낚기 알고리즘 (B-2) — 차별성 = 입소문
3. 모바일 최적화 (C-2) — 매출 = 트래픽 70%

---

### 3-2. 개발자 검토 (기획자 A, QA/UX C 제안 평가)

#### 기획자(A) 제안 평가
1. **긴장감 역전 시스템** - 구현 가능성: 상, 공수 2~3인일 → **즉시**
2. **스펙테이터 투표** - 구현 가능성: 중, 공수 3~4인일 → **Phase 2** (복잡도 증가)
3. **페이크 히트** - 구현 가능성: 중상, 공수 2~3인일 → **즉시** (crane-game 95% 재사용)
4. **수족관 커스터마이징** - 구현 가능성: 상, 공수 1~2인일 → **즉시** (horse 코드 복사)
5. **채팅 물풍선** - 구현 가능성: 중, 공수 2인일 → **Phase 2** (성능 리스크 높음)

#### QA/UX(C) 제안 평가
1. **동기화 검증** - 구현 가능성: 상, 공수 1인일 → **즉시** (horse 패턴 복사)
2. **모바일 터치** - 구현 가능성: 상, 공수 1인일 → **즉시** (기본 UX)
3. **시각적 피드백** - 구현 가능성: 상, 공수 1~2인일 → **즉시 (색약)** + **Phase 2 (파티클)**
4. **사운드/BGM** - 구현 가능성: 중상, 공수 2~3인일 → **Phase 2** (브라우저 정책 복잡)
5. **Edge Case** - 구현 가능성: 상, 공수 2인일 → **즉시 (호스트)** + **Phase 2 (재연결)**

**기술적 근거**:
- crane-game 코드 재사용률: 60%
- horse 코드 재사용률: 40%
- 총 공수 (MVP): 10~15인일 (2주, 1명 작업 기준)

---

### 3-3. QA/UX 검토 (기획자 A, 개발자 B 제안 평가)

#### 기획자(A) 제안 평가
1. **긴장감 역전** - UX 영향: 긍정 (조건부 - 중간 피드백 필요) → **즉시**
2. **스펙테이터 투표** - UX 영향: 긍정 → **Phase 2** (코어 게임 안정화 후)
3. **페이크 히트** - UX 영향: 긍정 (매우 강력) → **즉시** (위로 메시지 필요)
4. **수족관 커스터마이징** - UX 영향: 긍정 → **Phase 2** (핵심 아님)
5. **채팅 물풍선** - UX 영향: 중립~긍정 → **Phase 2** (기본 채팅 먼저)

#### 개발자(B) 제안 평가
1. **실시간 물고기 동기화** - 테스트 난이도: 상 → **즉시** (핵심 기술 기반)
2. **낚기 순서 알고리즘** - 테스트 난이도: 중 → **즉시** (페이크 히트 연동)
3. **경마 기믹 차용** - 테스트 난이도: 중 → **Phase 2** (튜토리얼 필요)
4. **슬로우모션 카메라** - 테스트 난이도: 하 → **즉시** (애니메이션 OFF 옵션)
5. **준비 플로우** - 테스트 난이도: 하 → **즉시** (검증된 패턴)

**접근성 필수 요구사항**:
- 모든 타이머에 음성 안내
- 슬로우모션/카메라 OFF 옵션 (멀미 방지)
- 물고기 색상 + 아이콘 조합 (색맹 대응)
- 키보드 네비게이션 완벽 지원
- 모바일 터치 영역 최소 44×44px

---

## 4. 합의 도출

### 우선순위별 분류

| 우선순위 | 기능 | 판정 | 기획 | 개발 | QA/UX | 근거 |
|---------|------|------|------|------|-------|------|
| 🔴 즉시 | 실시간 물고기 동기화 (B-1) | ✅ 채택 | ⭕ 상 | ⭕ 상 | ⭕ 상 | 3개 역할 만장일치 - 핵심 기술 신뢰성 |
| 🔴 즉시 | 낚기 순서 알고리즘 (B-2) | ✅ 채택 | ⭕ 상 | ⭕ 상 | ⭕ 중 | 차별성 핵심, 룰렛 로직 재사용 |
| 🔴 즉시 | 페이크 히트 멀티플레이 (A-3) | ✅ 채택 | ⭕ 상 | ⭕ 상 | ⭕ 상 | 감정 롤러코스터, crane-game 95% 재사용 |
| 🔴 즉시 | 긴장감 역전 시스템 (A-1) | ✅ 채택 | ⭕ 상 | ⭕ 상 | ⭕ 중 | 45초 몰입, 중간 피드백 필요 |
| 🔴 즉시 | 슬로우모션 카메라 (B-4) | ✅ 채택 | ⭕ 중 | ⭕ 하 | ⭕ 상 | 드라마틱 연출, 애니메이션 OFF 옵션 필수 |
| 🔴 즉시 | 준비 플로우 (B-5) | ✅ 채택 | ⭕ 하 | ⭕ 하 | ⭕ 하 | 경마 패턴 복제, 비용 낮음 |
| 🔴 즉시 | 동기화 검증 체계 (C-1) | ✅ 채택 | ⭕ 상 | ⭕ 상 | ⭕ 상 | 출시 전 필수 관문 |
| 🔴 즉시 | 모바일 터치 최적화 (C-2) | ✅ 채택 | ⭕ 상 | ⭕ 상 | ⭕ 상 | 트래픽 70% 모바일 |
| 🔴 즉시 | 색약 대응 (C-3 일부) | ✅ 채택 | ⭕ 중 | ⭕ 중 | ⭕ 상 | 접근성 5% 사용자 확보 |
| 🔴 즉시 | 호스트 퇴장 처리 (C-5 일부) | ✅ 채택 | ⭕ 중 | ⭕ 중 | ⭕ 상 | 방 마비 방지 |
| 🟡 Phase 2 | 스펙테이터 투표 (A-2) | ⏸ 보류 | ⭕ 중 | ⚠️ 중 | ⭕ 중 | 복잡도 증가, 코어 게임 안정화 후 |
| 🟡 Phase 2 | 수족관 커스터마이징 (A-4) | ⏸ 보류 | ⭕ 중 | ⭕ 상 | ⚠️ 중 | 기본 게임 완성 후 추가 |
| 🟡 Phase 2 | 채팅 물풍선 (A-5) | ⏸ 보류 | ⭕ 상 | ⚠️ 중 | ⚠️ 중 | 성능 리스크, 기본 채팅으로 충분 |
| 🟡 Phase 2 | 경마 기믹 차용 (B-3) | ⏸ 보류 | ⚠️ 중 | ⭕ 하 | ⚠️ 중 | "낚시" 정체성 희석 위험, MVP 축소 |
| 🟡 Phase 2 | 사운드/BGM (C-4) | ⏸ 보류 | ⭕ 중 | ⚠️ 중상 | ⚠️ 하 | 브라우저 정책 복잡, MVP는 효과음만 |
| 🟡 Phase 2 | 파티클 효과 (C-3 일부) | ⏸ 보류 | ⭕ 중 | ⚠️ 중 | ⚠️ 하 | 모바일 성능 이슈 |
| 🟡 Phase 2 | 게임 중 재연결 (C-5 일부) | ⏸ 보류 | ⭕ 중 | ⚠️ 상 | ⚠️ 상 | 기술 부채 대량 발생 |

**범례**:
- ⭕: 긍정 평가
- ⚠️: 조건부 또는 리스크 있음
- ❌: 부정 평가

---

### 의견 충돌 사항

#### 1. 경마 기믹 시스템 차용 (B-3)
- **개발자**: 구현 쉬움 (난이도: 하, 공수 1~2인일)
- **기획자**: 정체성 희석 위험 ("낚시 복사본" 느낌)
- **QA/UX**: 튜토리얼 필요, 초보자 진입장벽
- **합의**: Phase 2로 보류, MVP는 기믹 1~2개로 축소

#### 2. 채팅 물풍선 시스템 (A-5)
- **기획자**: 높은 임팩트 (채팅 + 게임 통합)
- **개발자**: 성능 리스크 (60fps 렌더링 부하)
- **QA/UX**: 시야 방해 가능성, 투명도 조절 필요
- **합의**: Phase 2로 보류, MVP는 일반 채팅으로 충분

---

## 5. 다음 단계 (Action Items)

> 구현 상세: [`2026-02-17-1857-fishing-game-impl.md`](../impl/2026-02-17-1857-fishing-game-impl.md)

### MVP (Phase 1) - 총 공수: 10~15인일
- [x] 회의록 작성 완료
- [ ] **테스트 HTML 프로토타입 작성** (`test-fishing-game.html`)
  - 물고기 애니메이션 (Bézier 곡선, CSS keyframes)
  - 낚시대 하강 연출
  - 페이크 히트 시뮬레이션 (여러 명 붙음 → 떨어짐)
  - 슬로우모션 효과
- [ ] `socket/fishing.js` 핸들러 구현
  - `startFishing` 이벤트
  - seededRandom 기반 경로 생성
  - 낚기 알고리즘 (룰렛 변형)
  - 동기화 검증 로직
- [ ] `fishing-multiplayer.html` 클라이언트 구현
  - 준비 시스템 (경마 패턴 재사용)
  - 물고기 이동 렌더링
  - 페이크 히트 애니메이션
  - 슬로우모션 + 카메라 줌인
- [ ] 모바일 최적화
  - 터치 영역 44×44px
  - iOS Safari 테스트
  - 화면 회전 대응
- [ ] 접근성 개선
  - 색약 대응 (색상 + 아이콘)
  - 애니메이션 OFF 옵션
  - 키보드 네비게이션
- [ ] QA 검증
  - 동기화 테스트 (5개 브라우저)
  - 네트워크 throttling (3G, 4G)
  - 호스트 퇴장 시나리오

### Phase 2 (확장 기능) - 총 공수: 8~12인일
- [ ] 스펙테이터 투표 시스템
- [ ] 수족관 테마 커스터마이징 (물고기 종류, 배경)
- [ ] 채팅 물풍선 시스템
- [ ] 경마 기믹 차용 (물 흐름, 기믹 효과)
- [ ] 사운드/BGM 전략
- [ ] 파티클 효과 강화
- [ ] 게임 중 재연결 복원

---

## 6. 핵심 결정사항 요약

### ✅ 채택 (MVP 포함)
1. **실시간 물고기 동기화** - 서버 시드 기반, 모든 클라이언트 동일 경로
2. **낚기 순서 알고리즘** - 룰렛 변형, 페이크 히트 연출
3. **페이크 히트 멀티플레이** - 여러 명 붙음 → 떨어짐 → 최종 1명
4. **긴장감 역전 시스템** - 45초 몰입 (물고기 30초 + 낚시 15초)
5. **슬로우모션 카메라** - 최종 순간 드라마틱 연출
6. **모바일 최적화** - 터치 44×44px, iOS Safari 대응
7. **접근성** - 색약 대응, 애니메이션 OFF 옵션

### ⏸ 보류 (Phase 2)
1. **스펙테이터 투표** - 복잡도 증가, 코어 게임 안정화 후
2. **수족관 커스터마이징** - MVP는 물고기 3종으로 시작
3. **채팅 물풍선** - 성능 리스크, 기본 채팅으로 충분
4. **경마 기믹 과다 차용** - "낚시" 정체성 유지
5. **사운드/BGM** - 브라우저 정책 복잡, MVP는 효과음만

### 🎯 핵심 차별화 포인트
| 게임 | 문제점 | 낚시 게임 해결책 |
|------|--------|-----------------|
| 룰렛 | 애니메이션 짧고 단조로움 | 물고기 움직임 + 페이크 히트로 3배 연장 |
| 경마 | 1등 보이면 흥미 잃음 | "최종 1명"만 선택 → 누구든 가능성 있음 |
| 인형뽑기 | 인형 고정, 움직임 없음 | 물고기가 계속 움직여 생동감 UP |
| 주사위 | 긴장감 지속 시간 짧음 | 45초 몰입 (물고기 + 낚시) |

---

## 7. 기술적 근거

### 코드 재사용률
- **crane-game**: 60% (페이크 히트, 단계별 애니메이션)
- **horse-race**: 40% (동기화, 슬로우모션, 통계)
- **roulette**: 20% (당첨 알고리즘)
- **신규 개발**: 낚시 테마 애니메이션 (물고기, 낚시대, 물결)

### 핵심 리스크 & 대응
| 리스크 | 대응 방안 |
|--------|----------|
| 45초 애니메이션 중 네트워크 단절 | horse `raceAnimationComplete` 패턴 필수 적용 |
| 모바일 성능 (Canvas 애니메이션) | 프레임 드롭 최적화, 저사양 옵션 제공 |
| 슬로우모션 멀미 | 애니메이션 OFF 옵션 필수 |
| 색약 사용자 구분 불가 | 색상 + 아이콘 중복 표시 |
| 호스트 퇴장 시 방 마비 | 자동 호스트 이양 (기존 패턴) |

---

## 8. 구현 추천 모델

- **MVP 구현**: **Sonnet** (구체적 파일/함수 명시, 코드 작성 위주)
- **Phase 2 설계**: **Opus** (다파일 연계, 창의적 결정)
- **QA 검증**: **Sonnet** (테스트 스크립트, 버그 수정)

---

**회의록 작성**: Claude Sonnet 4.5
**다음 회의**: MVP 구현 완료 후 Phase 2 기능 우선순위 재논의
