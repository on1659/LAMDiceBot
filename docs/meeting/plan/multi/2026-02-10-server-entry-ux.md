# LAMDiceBot 팀 회의록

**일시**: 2026-02-10
**주제**: 서버 입장 UX 개선
**참석자**: 기획자, 개발자, QA/UX
**회의 방식**: 3인 멀티에이전트 독립 분석 → 교차 검토 → 합의 도출

---

## 1. 현황 요약

- 서버 카드 클릭 → 게임 로비까지 **로딩 피드백 없음**
- 에러 발생 시 작은 텍스트 표시만 (`.ss-error`) → 눈에 안 띔
- 중복 클릭 방지 없음 → 다중 요청 가능
- 비밀번호 서버 실패 시 피드백 미약

## 2. 독립 분석 결과

### 2-1. 기획자 (A)
1. **로딩 오버레이** (상) - 스피너 + "서버명 입장 중..." + 취소 버튼
2. **에러 모달** (상) - 중앙 모달 + shake 애니메이션, 기존 텍스트 에러 대체
3. **입장 성공 토스트** (중) - 기존 `_showToast()` 재사용
4. **단계별 프로그레스** (하) - 연결 → 인증 → 로딩 → 완료 단계 표시
5. **서버 미리보기** (하) - 입장 전 멤버 수, 활성 방 수 등 정보 표시

### 2-2. 개발자 (B)
1. **`_isJoining` 디바운스 플래그** (하) - 중복 클릭 원천 차단
2. **10초 타임아웃** (하) - 무한 대기 방지, 자동 에러 표시
3. **에러 모달 중앙화** (중) - 기존 `ss-pw-modal` 스타일 재사용
4. **소켓 이벤트 정리** (중) - `serverJoined`/`serverError` 리스너 관리
5. **CSS-only 스피너** (하) - border-spin 방식, 외부 라이브러리 불필요

### 2-3. QA/UX (C)
1. **취소 기능** (상) - 오버레이에 취소 버튼 필수
2. **키보드 접근성** (중) - ESC 키로 취소, Enter로 확인
3. **에러 메시지 명확화** (상) - 구체적 사유 표시 (비밀번호 오류, 서버 꽉참 등)
4. **연속 실패 처리** (중) - 3회 실패 시 쿨다운
5. **시각적 피드백 일관성** (상) - 기존 UI 패턴(토스트, 모달) 재사용

## 3. 교차 검토

### 일치 항목 (3인 합의)
- 로딩 오버레이 + 스피너 (A1 + B5 + C5)
- 중복 클릭 방지 / 디바운스 (B1)
- 에러 모달 중앙화 (A2 + B3 + C3)
- 취소 기능 (C1)
- 성공 토스트 (A3 + C5)

### 논쟁 항목
| 항목 | 찬성 | 반대 | 판정 |
|------|------|------|------|
| 단계별 프로그레스 | A | B, C | ❌ 과도 (입장이 빠르면 불필요) |
| 서버 미리보기 | A | B, C | ❌ 별도 기능으로 분리 |
| 연속 실패 쿨다운 | C | A, B | ❌ 현재 규모에서 불필요 |
| 키보드 접근성 | C | - | ⏳ 후순위 (모바일 우선) |

## 4. 최종 합의

| # | 기능 | 판정 | 우선순위 |
|---|------|------|----------|
| 1 | 로딩 오버레이 (스피너 + 메시지 + 취소) | ✅ 채택 | P0 |
| 2 | 디바운스 + 타임아웃 (10초) | ✅ 채택 | P0 |
| 3 | 에러 모달 (중앙 + shake) | ✅ 채택 | P0 |
| 4 | 입장 성공 토스트 | ✅ 채택 | P1 |

## 5. 구현 방향

### 수정 대상: `server-select-shared.js`

**로딩 오버레이**
- `_isJoining` 플래그로 중복 클릭 방지
- `showJoiningOverlay(serverName)` → 전체 화면 오버레이
- CSS: `.ss-joining-overlay` (z-index: 10002), `.ss-spinner` (@keyframes spin)

**타임아웃**
- 10초 후 자동 해제 + 에러 모달 표시

**에러 모달**
- 기존 `ss-pw-modal` 스타일 재사용
- shake 애니메이션 (기존 `ssShake`)

**성공 토스트**
- 기존 `_showToast()` 재사용

**취소 기능**
- 오버레이 취소 버튼 → 상태 초기화 + 오버레이 제거

## 6. 검증 체크리스트

- [ ] 서버 카드 클릭 → 스피너 표시
- [ ] 연속 클릭 → 두 번째 클릭 무시
- [ ] 10초 대기 → 타임아웃 에러 표시
- [ ] 비밀번호 틀림 → 중앙 에러 모달
- [ ] 취소 버튼 → 오버레이 닫히고 서버 선택 화면 복귀
- [ ] 성공 → 토스트 + 로비 진입
