# LAMDiceBot 팀 회의록

**일시**: 2026-02-14
**주제**: 경마 React 리빌드 방향성 및 인력 배분
**참석자**: 기획자(A), 개발자(B), QA/UX(C)
**회의 방식**: 3인 멀티에이전트 독립 분석 → 교차 검토 → 합의 도출

---

## 1. 현황 요약

- 경마 React 리빌드(horse-app/): TypeScript 타입 + 컴포넌트 분리 완성, UI 미완성
- 레거시(horse-race-multiplayer.html): UI/UX 완성도 높음 (SVG 스프라이트, 30+ 애니메이션, 사운드 8종)
- 인력: 대리급 프로그래머 3명, 팀장 2명
- 핵심 문제: horse-race.js 302KB 단일 파일 유지보수 어려움

---

## 경마 방향성 (3인 합의)

### 결론: 레거시 유지 + React는 백그라운드에서 천천히 완성

| 질문 | 답 |
|------|-----|
| 지금 React로 교체? | **아니오** — UI가 미완성이고, 레거시가 이미 잘 동작함 |
| React 버릴 건가? | **아니오** — TypeScript 타입 + 컴포넌트 분리는 성과. 백그라운드에서 계속 |
| 실서버는? | **레거시 HTML 그대로** (horse-race-multiplayer.html) |
| React 전환 시점? | React UI가 레거시와 동일 수준 도달 → A/B 테스트 → 전면 전환 |
| horse-race.js 302KB 문제? | 파일 분리 (SVG 스프라이트 등 모듈별 추출) |

### 왜 이 결론인가?
- **기획자**: "유저가 쓰는 건 레거시. 바꿀 이유 없음. React는 준비되면 전환"
- **개발자**: "React 전환이 맞지만, 레거시 분리와 병행해야 안전"
- **QA/UX**: "UX는 레거시 압도적. React에 사운드/이펙트 없이 교체하면 사용자 이탈"

---

## 2. 독립 분석 결과

### 2-1. 기획자 (A)

**핵심 판단: "지금 React로 교체하지 않는다"**

| # | 제안 | 우선순위 |
|---|------|---------|
| 1 | 레거시 유지 + React 백그라운드 완성 후 A/B 전환 | 상 |
| 2 | 인력: 팀장A=서버/리뷰, 팀장B=레거시/설계, 대리1=React포팅, 대리2=버그, 대리3=E2E | 상 |
| 3 | 단기 안정화 → 중기 React 완성 → 전면 전환 | 상 |
| 4 | 주문 시스템 독립화 (경마 밖에서도 사용) | 중 |
| 5 | 전적 이미지 공유 (SNS 바이럴) | 중 |

### 2-2. 개발자 (B)

**핵심 판단: "React 전환이 맞다, 단 레거시 분리와 병행"**

| # | 제안 | 난이도 |
|---|------|--------|
| 1 | horse-race.js 파일 분리 (SVG 스프라이트 분리) | 중 |
| 2 | React RaceTrack SVG 포팅 (이모지→SVG) | 중 |
| 3 | 서버 소켓 TypeScript 전환 | 상 |
| 4 | 공유 모듈 IIFE 유지 (전환은 나중에) | 하 |
| 5 | 대리 3명 파일 충돌 없는 병렬 작업 구조 | - |

### 2-3. QA/UX (C)

**핵심 판단: "UX는 레거시 압도적, React는 구조 우수. 레거시 이펙트를 React에 이식해야"**

| # | 제안 | 소요 |
|---|------|------|
| 1 | 사운드 이식 (SoundManager 호출만 추가) | 1-2일 |
| 2 | 테마 통일 (CSS 변수 브라운 톤) | 2-3일 |
| 3 | 시각 이펙트 이식 (CSS 기믹 → React) | 3-5일 |
| 4 | E2E 테스트 확장 (현재 접속만 검증) | 5-7일 |
| 5 | 모바일 검증 (iOS Safari) | 2-3일 |

---

## 3. 교차 검토 결과

### 3-1. 기획자 → B, C 평가

| 제안 | 판정 | 근거 |
|------|------|------|
| B1. JS 파일 분리 | **O** | 개발 생산성 직결, 즉시 실행 |
| B2. React SVG 포팅 | **△** | 레거시 안정화가 먼저 |
| B3. 서버 TS 전환 | **△** | 테스트 커버리지가 먼저 |
| B4. IIFE 유지 | **O** | 변경 없음 = 위험 제거 |
| B5. 병렬 작업 | **O** | 일정 단축 핵심 |
| C1. 사운드 이식 | **O** | 저투입·고효과 |
| C2. 테마 통일 | **O** | 가성비 최고 |
| C3. 이펙트 이식 | **O** | 게임성 강화 |
| C4. E2E 확장 | **O** | 즉시 우선순위 상향 |
| C5. iOS 검증 | **△** | 트래픽 분석 후 결정 |

### 3-2. 개발자 → A, C 평가

| 제안 | 판정 | 근거 |
|------|------|------|
| A1. 레거시+React 병행 | **△** | 라우팅/세션 관리 추가 필요 |
| A2. 인력 배치 | **X** | 인력 규모 불명확, 스프린트 일정 불확실 |
| A3. 안정화→전환 | **O** | 아키텍처 적합 |
| A4. 주문 독립화 | **△** | 이식 시 3-5일 |
| A5. 전적 공유 | **△** | GIF 녹화 미완료, 5-7일 |
| C1. 사운드 이식 | **O** | 연결만 하면 됨, 1일 |
| C2. 테마 통일 | **O** | CSS 변수 시스템 구현됨 |
| C3. 이펙트 이식 | **△** | 체계화 필요, 4-5일 |
| C4. E2E 확장 | **△** | Playwright 설치됨, 코드 부재 |
| C5. iOS 검증 | **△** | 최후 단계 |

### 3-3. QA/UX → A, B 평가

| 제안 | 판정 | 근거 |
|------|------|------|
| A1. 레거시+React 병행 | **△** | 안정적이나 이중 관리로 회귀테스트 2배 |
| A2. 역할 분리 | **O** | 테스트 영역 명확 |
| A3. 단기→중기 | **△** | UX 단절 없으나 유지보수 부하 |
| A4. 주문 독립화 | **O** | 테스트 격리 가능 |
| A5. 전적 공유 | **O** | 회귀테스트 미미 |
| B1. JS 분리 | **△** | 비주얼 회귀테스트 필수 |
| B2. React SVG | **O** | 테스트 코드 작성 용이 |
| B3. 서버 TS | **X** | 29K LOC 전환 리스크 높음 |
| B4. IIFE 유지 | **O** | 테스트 범위 축소 |
| B5. 병렬 작업 | **△** | 통합테스트 까다로움 |

---

## 4. 합의 도출

| 우선순위 | 기능 | 판정 | 기획 | 개발 | QA/UX | 근거 |
|---------|------|------|------|------|-------|------|
| 1 | 사운드 이식 | **채택** | O | O | O | 3/3 긍정, 1-2일, 즉시 효과 |
| 2 | 테마 통일 (CSS 브라운) | **채택** | O | O | O | 3/3 긍정, 2-3일, 가성비 최고 |
| 3 | horse-race.js 파일 분리 | **채택** | O | O | △ | 2/3 긍정, 유지보수 핵심 |
| 4 | IIFE 유지 (변경 안 함) | **채택** | O | O | O | 3/3 긍정, 위험 제거 |
| 5 | 병렬 작업 체계 구축 | **채택** | O | O | △ | 2/3 긍정, 생산성 핵심 |
| 6 | E2E 테스트 확장 | **채택** | O | △ | O | 2/3 긍정, 품질 보증 |
| 7 | 시각 이펙트 이식 | **채택** | O | △ | O | 2/3 긍정, Phase 2 |
| 8 | React SVG 포팅 | **보류** | △ | O | O | 안정화 후 진행 |
| 9 | 서버 TS 전환 | **기각** | △ | O | X | 리스크 높음, 후순위 |
| 10 | iOS 모바일 검증 | **보류** | △ | △ | △ | 트래픽 분석 후 재평가 |
| 11 | 주문 독립화 | **보류** | O | △ | O | 중기 과제 |
| 12 | 전적 이미지 공유 | **보류** | O | △ | O | 중기 과제 |

### 의견 충돌 사항

| 항목 | 충돌 | 결론 |
|------|------|------|
| 서버 TS 전환 | 개발자 O vs QA X | **기각** - 29K LOC 전환 리스크가 이득보다 큼 |
| React 교체 시점 | 기획 "아직" vs 개발 "맞다" | **절충** - 레거시 유지하면서 React 백그라운드 완성 |
| 인력 배치 | 기획 O vs 개발 X | **조건부** - 스프린트 계획 수립 후 확정 |

---

## 5. 다음 단계 (Action Items)

### Phase 1: 즉시 실행 (1주)
- [ ] 사운드 이식 — SoundManager 호출 코드 추가 (1-2일)
- [ ] 테마 통일 — CSS 변수를 브라운/베이지 톤으로 교체 (2-3일)
- [ ] 병렬 작업 체계 — 대리 3명 담당 영역 확정, 파일 충돌 방지

### Phase 2: 기초 개선 (2주)
- [ ] horse-race.js 분리 — SVG 스프라이트를 별도 파일로 추출
- [ ] E2E 테스트 — Playwright로 게임 플로우 테스트 작성
- [ ] 시각 이펙트 — 레거시 CSS 기믹을 React에 이식

### Phase 3: 중기 (1-2개월)
- [ ] React 경마 앱 UI 완성 (레거시 동일 수준)
- [ ] A/B 테스트 후 전면 전환 판단
- [ ] 주문 시스템 독립화 검토
- [ ] 전적 이미지 공유 기능 검토

### 인력 배분안 (합의)

| 역할 | 담당 | Phase 1 | Phase 2 |
|------|------|---------|---------|
| 팀장 A | 서버/소켓/코드리뷰 | 병렬 체계 설계 | JS 분리 리뷰 |
| 팀장 B | 레거시/설계 | 테마 통일 감독 | 이펙트 이식 설계 |
| 대리 1 | React UI | 사운드 이식 | SVG 포팅 |
| 대리 2 | 레거시 유지보수 | 버그 수정 | JS 분리 실행 |
| 대리 3 | QA/테스트 | 수동 QA 체크리스트 | E2E 테스트 작성 |
