# LAMDiceBot 팀 회의록

**일시**: 2026-02-17
**주제**: 게임 UI 색상 시스템 개선 및 테마 전환 기능 추가
**참석자**: 기획자, UI디자이너 1, UI디자이너 2, Front 개발자
**회의 방식**: 4인 멀티에이전트 독립 분석 → 교차 검토 → 합의 도출

---

## 1. 현황 요약

### 사용자 피드백
- "색상이 중구난방이고 색조화가 전혀 맞지 않아"
- "게임별로 본인들만의 색상이 있다고는 하는데 내가 보기엔 아니야 (경마는 맞는 것 같기도)"

### 현재 색상 구현 현황

**게임별 색상:**
- 주사위: Purple (#667eea → #764ba2)
- 룰렛: Purple/Gray (#7c4dff, 배경 #8e99a4)
- 뽑기: Deep Purple (#9c27b0 → #7b1fa2)
- 경마: Brown (#8b4513 → #a0522d) ← 유일하게 구분됨

**기술적 문제:**
- CSS 변수 미사용 → 모든 색상 하드코딩
- 14개 HTML 파일 + JS 파일에 711개 색상 값 중복 정의
- 공통 CSS 파일 없음 (horse-race.css 제외)
- 테마 전환 인프라 전무

---

## 2. 독립 분석 결과

### 2-1. 기획자 (전략 + 비즈니스 관점)

#### 제안 항목 (5개)

**1. 통합 브랜드 컬러 팔레트 정의** (우선순위: 상)
- **전략적 의의**: LAMDiceBot 공식 브랜드 컬러로 Purple (#667eea) 채택, 모든 게임에 일관성 확보
- **사용자 가치**: 인지 부하 감소, 전문성 인상 향상, 시각적 안정감
- **제안 팔레트**:
  - Primary: #667eea (Indigo)
  - Secondary: #764ba2 (Purple)
  - Success: #28a745, Danger: #dc3545, Warning: #ffc107
  - Neutral: #6c757d, Background: #f8f9fa

**2. CSS Variables 기반 리팩터링** (우선순위: 상)
- **전략적 의의**: 기술 부채 해소, 유지보수성 10배 향상, 다크모드 준비
- **구현 범위**: `shared-theme.css` 생성, 4개 게임 HTML 변수 치환

**3. 게임별 개성 vs 브랜드 통일성 전략** (우선순위: 중)
- **전략적 의의**: UI 크롬(버튼, 헤더)은 브랜드 컬러 통일 + 게임 콘텐츠 영역만 accent 허용
- **구현 예시**: 공통 UI = 브랜드 컬러, 게임 영역 = accent 컬러

**4. 다크모드 지원** (우선순위: 하→중)
- **전략적 의의**: 2026년 기준 다크모드는 필수 (모바일 게임 70% 지원)
- **사용자 가치**: 눈 건강 보호, 배터리 절약 20%, 몰입도 증가

**5. 색상 접근성 개선** (우선순위: 중)
- **전략적 의의**: 웹 접근성 의무화 대비, 색맹/색약 사용자 포용
- **필수 점검**: 대비 비율 4.5:1 이상, 색상 외 아이콘 표시, 색맹 테스트

---

### 2-2. UI디자이너 1 (디자인 일관성 관점)

#### 제안 항목 (5개)

**1. 배경 그라디언트 게임별 차별화** (우선순위: 상)
- **디자인 개선점**: 현재 3개 게임이 동일 회색 그라디언트 사용 → 게임별 primary 색상 활용
- **시각적 일관성 효과**: 게임 전환 시 즉시 구분 가능, 브랜드 정체성 70% 개선

**2. 액션 버튼 색상 통일** (우선순위: 상)
- **디자인 개선점**: "준비" 버튼을 모든 게임에서 #28a745 (녹색)로 통일
- **시각적 일관성 효과**: 사용자 학습 곡선 감소, 실수 클릭 방지

**3. 호스트 배지 색상 및 대비 개선** (우선순위: 중)
- **디자인 개선점**: 현재 #ffc107 → #ff9800 (진한 주황) + 흰색 텍스트로 변경
- **시각적 일관성 효과**: WCAG AA 통과, 모든 배경에서 일관된 가독성

**4. 패널 배경색 계층 정리** (우선순위: 중)
- **디자인 개선점**: 일반 패널 (#ffffff), 리스트 (#f8f9fa), 주의 섹션 (#fff9e6), 경고 (#ffebee)
- **시각적 일관성 효과**: 정보 우선순위 명확화, 인지 부하 감소

**5. 서버/게임 UI 스타일 연결** (우선순위: 하)
- **디자인 개선점**: 서버 선택 디자인 토큰을 게임 화면에 적용 (border-radius 14px, 통일된 box-shadow)
- **시각적 일관성 효과**: 플랫폼 통일성 강화, 프로페셔널 이미지

---

### 2-3. Front 개발자 (기술 구현 관점)

#### 제안 항목 (5개)

**1. 게임별 색상 유지 + 명도 조정 다크모드** (난이도: 중)
- **구현 방법**: 게임 정체성 색상 유지하되, 다크모드에서 명도만 -30% 조정
- **영향 파일**: `theme.css`, 모든 게임 HTML

**2. 헤더만 먼저 다크모드 적용 (Quick Win)** (난이도: 하)
- **구현 방법**: 14개 HTML의 헤더/푸터만 CSS 변수화 후 다크모드 적용
- **영향 파일**: `theme.css`, 모든 HTML 헤더

**3. prefers-color-scheme 자동 감지 + 수동 토글** (난이도: 중)
- **구현 방법**: OS 설정 자동 감지 + 사용자 수동 변경 시 우선 적용
- **영향 파일**: `theme-manager.js`, 모든 HTML

**4. 게임 중 테마 전환 금지** (난이도: 중)
- **구현 방법**: Socket.IO 게임 상태 감지 → 진행 중 토글 버튼 비활성화
- **영향 파일**: `theme-manager.js`, 게임 HTML

**5. FOUC 방지 - 인라인 스크립트 우선 로드** (난이도: 하)
- **구현 방법**: `<head>` 상단에 테마 적용 코드 인라인 삽입
- **영향 파일**: 모든 HTML

---

### 2-4. UI디자이너 2 (UX + 접근성 관점)

#### 제안 항목 (5개)

**1. 게임별 고유 색상 정체성 확립** (우선순위: 상)
- **UX 개선 효과**: 사용자가 게임을 색으로 즉시 구분, 내비게이션 혼란 감소
- **구현 방안**:
  - 주사위: 파랑 (#2196F3)
  - 룰렛: 빨강 (#E53935)
  - 경마: 갈색 (#8B4513) - 유지
  - 뽑기: 초록 (#4CAF50)

**2. 테마 전환 UI 배치 및 접근성** (우선순위: 상)
- **UX 개선 효과**: 색맹 사용자 지원, 시각적 피로도 선택권, 개인화 경험
- **구현 방안**: 헤더 우측 상단 배치, 라이트/다크/고대비/색맹 모드 제공

**3. 게임 내 색상 일관성 강화** (우선순위: 중)
- **UX 개선 효과**: 시각적 피로도 감소, 중요 UI 가시성 향상
- **구현 방안**: Semantic color만 사용 (Success=초록, Danger=빨강, Warning=노랑)

**4. 다크모드 vs 라이트모드 전략** (우선순위: 중)
- **UX 개선 효과**: 야간 사용 눈부심 감소, 배터리 절약
- **기본 모드**: 라이트 모드 권장 (게임은 활기가 중요)

**5. 게임별 "색상 정체성" 유지 vs 통일성** (우선순위: 하)
- **UX 개선 효과**: 각 게임 고유 분위기 보존 + 브랜드 통일감
- **균형 전략**: 고정 요소(헤더/버튼) = 공통, 가변 요소(배경/캐릭터) = 게임별

---

## 3. 교차 검토 결과

### 3-1. 기획자 검토 (B, C 제안 평가)

**UI디자이너 1 제안 평가:**
- ✅ 액션 버튼 통일: 비즈니스 가치 상, 강력 찬성 (ROI 최고)
- ✅ 배경 차별화: 비즈니스 가치 중, 찬성
- ⚠️ 호스트 배지 개선: 비즈니스 가치 하, 보류 (ROI 낮음)

**Front 개발자 제안 평가:**
- ✅ prefers-color-scheme 감지: 비즈니스 가치 상, 강력 찬성
- ✅ FOUC 방지: 비즈니스 가치 중, 찬성
- ❌ 헤더만 다크모드: 비즈니스 가치 하, 반대 (Half-baked feature)

**UI디자이너 2 제안 평가:**
- ✅ 게임 내 색상 일관성: 비즈니스 가치 상, 강력 찬성
- ⚠️ 게임별 고유 색상: 비즈니스 가치 중, 찬성 (데이터 필요)

---

### 3-2. Front 개발자 검토 (A, C 제안 평가)

**기획자 제안 평가:**
- ✅ 통합 팔레트 정의: 구현 난이도 하, 구현 권장
- ⚠️ CSS Variables 리팩터링: 구현 난이도 상, 조건부 구현 (범위 제한 필요)

**UI디자이너 1 제안 평가:**
- ✅ 배경 차별화: 구현 난이도 하, 구현 권장 (CSS 변수만으로 충분)
- ✅ 액션 버튼 통일: 구현 난이도 중, 구현 권장

**UI디자이너 2 제안 평가:**
- ✅ 게임별 고유 색상: 구현 난이도 중, 구현 권장 (단, 현재 색상과 불일치)
- ✅ 테마 전환 UI: 구현 난이도 중, 구현 권장 (FOUC 방지 필수)

---

### 3-3. UI디자이너 2 검토 (A, B 제안 평가)

**기획자 vs 본인 제안 충돌:**
- 기획자: "모든 게임 Purple 통일"
- 본인: "게임별 고유 색상 (파랑/빨강/초록/갈색)"
- **의견**: 조건부 지지 (헤더/푸터 = Purple 통일, 게임 배경 = 차별화)

**UI디자이너 1 제안 평가:**
- ⚠️ 호스트 배지 #ff9800: 접근성 미달 (대비율 3.2:1), 우려
- ✅ 패널 계층 정리: UX 영향도 상, 강력 지지

**Front 개발자 제안 평가:**
- ⚠️ 게임 중 테마 전환 금지: UX 영향도 중, 조건부 지지 (광과민성 예외 필요)
- ❌ 헤더만 다크모드: UX 영향도 상, 반대 (혼란 가중)

---

## 4. 합의 도출

| 우선순위 | 기능 | 판정 | 기획 | UI1 | 개발 | UI2 | 근거 |
|---------|------|------|------|-----|------|-----|------|
| 1 | 액션 버튼 색상 통일 (Semantic Color) | ✅ 채택 | ✅ | ✅ | ✅ | ✅ | 만장일치, ROI 최고, 사용자 학습 비용 감소 |
| 2 | CSS Variables 인프라 구축 | ✅ 채택 | ✅ | ✅ | ⚠️ | ✅ | 모든 후속 작업의 전제조건 (단, 범위 제한) |
| 3 | FOUC 방지 인라인 스크립트 | ✅ 채택 | ✅ | - | ✅ | ✅ | 낮은 비용, 높은 효과 |
| 4 | prefers-color-scheme 자동 감지 + 토글 | ✅ 채택 | ✅ | - | ✅ | ✅ | 표준 기능, 사용자 경험 극대화 |
| 5 | 배경 그라디언트 게임별 차별화 | ✅ 채택 | ✅ | ✅ | ✅ | ⚠️ | Dice/Crane 구분 필요, 브랜드 레이어 추가 조건 |
| 6 | 패널 배경색 계층 정리 | ✅ 채택 | ✅ | ✅ | ✅ | ✅ | 정보 구조 개선, 접근성 강화 |
| 7 | 게임 내 색상 일관성 강화 | ✅ 채택 | ✅ | ✅ | ✅ | ✅ | 신규 유저 전환율 개선 |
| 8 | 게임별 색상 유지 + 명도 조정 다크모드 | ✅ 채택 | ✅ | - | ✅ | ✅ | 표준 기능, 브랜드 정체성 유지 |
| 9 | 호스트 배지 색상 개선 | ⚠️ 보류 | ❌ | ⚠️ | ✅ | ❌ | 접근성 미달 (#ff9800 + white = 3.2:1), 현재 유지 권장 |
| 10 | 게임 중 테마 전환 금지 | ⚠️ 보류 | ❌ | - | ⚠️ | ⚠️ | 실제 문제 사례 없음, 광과민성 예외 필요 |
| 11 | 헤더만 다크모드 (Quick Win) | ❌ 기각 | ❌ | - | - | ❌ | Half-baked feature, 사용자 혼란 |

### 의견 충돌 사항

**1. 게임별 색상 전략**
- **기획자**: 모든 게임 Purple 통일 (브랜드 일관성)
- **UI디자이너 2**: 게임별 고유 색상 (파랑/빨강/초록/갈색, 구분성)
- **합의안**: 절충 - 헤더/푸터/공통 UI = Purple, 게임 배경 = 현재 색상 유지 (추후 A/B 테스트)

**2. 호스트 배지 색상**
- **UI디자이너 1**: #ff9800 (주황) + white 제안
- **UI디자이너 2**: 접근성 미달 (대비율 3.2:1) 반대
- **합의안**: 현재 #ffc107 + #333 유지 (대비율 9.5:1, WCAG AAA 통과)

**3. CSS Variables 범위**
- **기획자**: 전체 리팩터링 권장
- **Front 개발자**: 인라인 스타일 제거는 별도 작업 (범위 과대 평가)
- **최종 합의안 (사용자 요구사항 반영)**:
  - **모든 색상 하드코딩 제거** (500개 전부)
  - `<style>` 태그 + 인라인 `style="..."` 속성 내 색상 전부 변수화
  - Layout 속성 (padding, margin 등)은 유지
  - **목표**: 팔레트만 바꾸면 전체 색상 즉시 변경되도록

---

## 4-1. 추가 결정 사항 (사용자 확인)

### 컬러 팔레트 구조

**Material Design 스타일 팔레트 채택** (50~900 단계):

```css
/* css/theme.css - 컬러 팔레트 */

/* ============================================
   Purple (브랜드 색상)
============================================ */
--purple-50:  #F3F0FF;
--purple-100: #E5DEFF;
--purple-200: #D0BFFF;
--purple-300: #B69FFF;
--purple-400: #9C7FFF;
--purple-500: #667eea;  /* 메인 (현재 사용 중) */
--purple-600: #764ba2;  /* 진함 (현재 사용 중) */
--purple-700: #5A3880;
--purple-800: #3D255E;
--purple-900: #21133C;

/* ============================================
   Green (준비/성공)
============================================ */
--green-50:   #E8F5E9;
--green-500:  #28a745;  /* 메인 */
--green-600:  #218838;
--green-700:  #1e7e34;

/* ============================================
   Red (위험/삭제)
============================================ */
--red-50:     #FFEBEE;
--red-500:    #dc3545;  /* 메인 */
--red-600:    #c82333;
--red-700:    #bd2130;

/* ============================================
   Yellow (경고/호스트)
============================================ */
--yellow-50:  #FFF9E6;
--yellow-500: #ffc107;  /* 메인 */
--yellow-600: #e0a800;

/* ============================================
   Gray (중립/배경)
============================================ */
--gray-50:    #f8f9fa;
--gray-100:   #e9ecef;
--gray-200:   #dee2e6;
--gray-500:   #6c757d;
--gray-700:   #495057;
--gray-900:   #212529;
```

**사용 예시**:
```css
/* 버튼 상태별 색상 */
.btn-ready {
  background: var(--green-500);      /* 기본 */
}
.btn-ready:hover {
  background: var(--green-600);      /* Hover: 한 단계 진하게 */
}
.btn-ready:active {
  background: var(--green-700);      /* Active: 더 진하게 */
}
```

**팔레트 변경 시나리오**:
```css
/* 파스텔 핑크 테마로 전환 */
--purple-500: #FFB3D9;  /* 보라 → 파스텔 핑크 */
--purple-600: #FF9ECE;

/* → 모든 보라색 요소가 즉시 핑크로 변경됨! */
```

---

## 5. 다음 단계 (Action Items)

> 구현 상세: [`2026-02-17-ui-color-system-impl.md`](../../impl/2026-02-17-ui-color-system-impl.md)

### Phase 1: 기초 인프라 (3-4일, 22-26시간, 우선순위 상)

- [x] 전문가 회의 완료 (4인)
- [ ] `css/theme.css` 생성 (Material Design 스타일 컬러 팔레트 정의)
- [ ] **모든 색상 하드코딩 제거** (711개):
  - [ ] `<style>` 태그 내부 색상 변수화 (~400개)
  - [ ] 인라인 `style="..."` 속성 색상 변수화 (~241개)
  - [ ] `css/horse-race.css` 파일 색상 변수화 (~50개)
  - [ ] `js/horse-race.js` 파일 색상 변수화 (~20개)
- [ ] 액션 버튼 색상 통일 (준비/나가기/삭제 버튼)
- [ ] FOUC 방지 인라인 스크립트 추가 (14개 HTML)
- [ ] 게임별 색상 변수 추출 (현재 색상 유지)
- [ ] **검증**: 팔레트 색상 변경 테스트 (보라 → 파스텔 핑크로 변경 시 전체 반영 확인)

### Phase 2: 일관성 & 접근성 (3-4주, 우선순위 중)

- [ ] Lighthouse 접근성 점수 90 이상 확보
- [ ] 패널 배경색 계층 정리 (Level 1/2/3)
- [ ] 호스트 배지 통일 (현재 #ffc107 + #333 유지)
- [ ] 색맹 시뮬레이션 테스트

### Phase 3: 다크모드 (5주+, 우선순위 하)

- [ ] 다크모드 CSS Variables 정의
- [ ] `js/theme-manager.js` 생성
- [ ] prefers-color-scheme 자동 감지
- [ ] 테마 토글 버튼 UI 추가

---

## 6. 주요 결정 사항

### 채택 결정
1. **CSS Variables 우선 도입** - 모든 작업의 전제조건
2. **Material Design 스타일 컬러 팔레트** - 50~900 단계, 체계적 색상 관리
3. **모든 색상 하드코딩 제거** - `<style>` 태그 + 인라인 스타일 전부 변수화 (500개)
4. **Semantic Color 통일** - 준비=#28a745, 나가기=#6c757d, 삭제=#dc3545
5. **현재 게임 색상 유지** - 사용자 혼란 방지 (Dice=Purple, Horse=Brown 등)
6. **전체 다크모드 구현** - 헤더만 Quick Win은 기각
7. **접근성 우선** - WCAG AA 기준 준수, 대비율 4.5:1 이상
8. **팔레트 중심 관리** - `css/theme.css` 파일 하나에서 모든 색상 관리

### 기각 결정
1. **호스트 배지 #ff9800** - 접근성 미달 (3.2:1 < 4.5:1)
2. **헤더만 다크모드** - Half-baked feature, 사용자 혼란
3. **게임별 색상 재정의 (파랑/빨강/초록)** - 현재는 보류, A/B 테스트 후 재검토

### 보류 결정
1. **게임 중 테마 전환 금지** - 실제 문제 발생 시 대응
2. **서버/게임 UI 스타일 연결** - 멀티서버 이동률 데이터 수집 후 결정

---

## 7. 구현 권장 모델

**Sonnet 4.5** 권장
- 파일 위치가 명확히 정의됨
- CSS 추출 작업은 반복적이지만 세심한 주의 필요
- 접근성 검사는 Lighthouse로 자동화 가능
- 코드 변경은 수술적 (특정 색상 값 교체)

---

---

## 8. 색상 관리 원칙 (핵심 요구사항)

### 8-1. 단일 파일 관리
- **모든 색상 코드는 `css/theme.css` 파일 하나에서만 정의**
- HTML/CSS 파일은 변수만 참조 (`var(--purple-500)`)
- 색상 추가/변경 시 1개 파일만 수정

### 8-2. 팔레트 중심 설계
- Material Design 스타일 (50~900 단계)
- 각 색상마다 명도 단계 제공 (Hover/Active 상태용)
- 버튼 상태: 500 (기본) → 600 (Hover) → 700 (Active)

### 8-3. 즉시 반영 보장
- 팔레트 색상 변경 시 전체 사이트 즉시 반영
- 예: `--purple-500: #FFB3D9;` 변경 → 모든 보라색 요소가 핑크로
- 새로고침만으로 테마 전환 완료

### 8-4. 확장 가능성
- 새 색상 추가 시 팔레트에만 정의
- 게임별 고유 색상도 팔레트 방식 적용
- 다크모드 = 팔레트 오버라이드 (`[data-theme="dark"]`)

---

**작성일**: 2026-02-17
**최종 수정**: 2026-02-17 (사용자 요구사항 반영)
**다음 회의**: 구현 완료 후 검증 회의 (Phase 1 완료 시)