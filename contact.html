<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1608259764663412" crossorigin="anonymous"></script>
    <title>ë¬¸ì˜í•˜ê¸° - LAMDice</title>
    <script src="/socket.io/socket.io.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #667eea;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .contact-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #007bff;
            text-decoration: none;
        }
        .faq-section {
            margin-top: 30px;
        }
        .faq-item {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .faq-question {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }
        .board-section {
            margin-top: 40px;
            border-top: 2px solid #667eea;
            padding-top: 30px;
        }
        .board-form {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .board-form input, .board-form textarea {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: inherit;
            font-size: 14px;
            box-sizing: border-box;
        }
        .board-form textarea {
            min-height: 120px;
            resize: vertical;
        }
        .board-form button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin-top: 10px;
        }
        .board-form button:hover {
            opacity: 0.9;
        }
        .board-form button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .suggestions-list {
            margin-top: 20px;
        }
        .suggestion-item {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .suggestion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .suggestion-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin: 0;
        }
        .suggestion-meta {
            color: #999;
            font-size: 12px;
            margin-top: 5px;
        }
        .suggestion-content {
            color: #555;
            margin: 15px 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .suggestion-actions {
            margin-top: 10px;
        }
        .delete-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }
        .delete-btn:hover {
            background: #c82333;
        }
        .empty-message {
            text-align: center;
            color: #999;
            padding: 40px;
            font-style: italic;
        }
        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background-color: white;
            margin: 15% auto;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        .modal-content h3 {
            margin-top: 0;
            color: #667eea;
        }
        .modal-content input[type="password"] {
            width: 100%;
            padding: 12px;
            margin: 15px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box;
        }
        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 20px;
        }
        .modal-buttons button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        .modal-buttons .confirm-btn {
            background: #dc3545;
            color: white;
        }
        .modal-buttons .confirm-btn:hover {
            background: #c82333;
        }
        .modal-buttons .cancel-btn {
            background: #6c757d;
            color: white;
        }
        .modal-buttons .cancel-btn:hover {
            background: #5a6268;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="dice-game-multiplayer.html" class="back-link">â† ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
        <h1>ë¬¸ì˜í•˜ê¸°</h1>
        
        <div class="contact-info">
            <h2>ì„œë¹„ìŠ¤ ë¬¸ì˜</h2>
            <p>LAMDice ì„œë¹„ìŠ¤ì™€ ê´€ë ¨ëœ ë¬¸ì˜ì‚¬í•­, ë²„ê·¸ ì‹ ê³ , ê°œì„  ì œì•ˆ ë“±ì„ í™˜ì˜í•©ë‹ˆë‹¤.</p>
            <p><strong>ë¬¸ì˜ ë°©ë²•:</strong></p>
            <ul>
                <li>ê²Œì„ ë‚´ ì±„íŒ… ê¸°ëŠ¥ì„ í†µí•œ ë¬¸ì˜</li>
                <li>ì„œë¹„ìŠ¤ ì´ìš© ì¤‘ ë°œìƒí•˜ëŠ” ë¬¸ì œëŠ” ì¦‰ì‹œ í™•ì¸í•˜ì—¬ ì¡°ì¹˜í•˜ê² ìŠµë‹ˆë‹¤</li>
            </ul>
        </div>

        <div class="faq-section">
            <h2>ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)</h2>
            
            <div class="faq-item">
                <div class="faq-question">Q. ê²Œì„ ë°©ì„ ë§Œë“¤ ìˆ˜ ìˆë‚˜ìš”?</div>
                <div>A. ë„¤, ë¡œë¹„ í™”ë©´ì—ì„œ "ë°© ìƒì„±í•˜ê¸°" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ê²Œì„ ë°©ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°© ì´ë¦„ê³¼ í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.</div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Q. ê²Œì„ ê·œì¹™ì„ ì„¤ì •í•  ìˆ˜ ìˆë‚˜ìš”?</div>
                <div>A. ë„¤, í˜¸ìŠ¤íŠ¸ëŠ” ê²Œì„ ì‹œì‘ ì „ì— ê²Œì„ ê·œì¹™ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. High, Low, Near, Custom ë“± ë‹¤ì–‘í•œ ê·œì¹™ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Q. ì£¼ì‚¬ìœ„ ë²”ìœ„ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‚˜ìš”?</div>
                <div>A. ë„¤, ê° ì‚¬ìš©ìëŠ” ìì‹ ì˜ ì£¼ì‚¬ìœ„ ë²”ìœ„ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ 1~100ì…ë‹ˆë‹¤.</div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Q. ê²Œì„ ê¸°ë¡ì€ ì–´ë–»ê²Œ í™•ì¸í•˜ë‚˜ìš”?</div>
                <div>A. ê²Œì„ í™”ë©´ ì˜¤ë¥¸ìª½ì— ê²Œì„ ê¸°ë¡ì´ í‘œì‹œë©ë‹ˆë‹¤. ê²Œì„ ì¤‘ì¸ ê¸°ë¡ê³¼ ì—°ìŠµ ê¸°ë¡ì„ êµ¬ë¶„í•˜ì—¬ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Q. ë°©ì— ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‚˜ìš”?</div>
                <div>A. ë„¤, ë°© ìƒì„± ì‹œ "ë¹„ê³µê°œ ë°©" ì˜µì…˜ì„ ì„ íƒí•˜ë©´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
            </div>

            <div class="faq-item">
                <div class="faq-question">Q. ê²Œì„ ê²°ê³¼ëŠ” ê³µì •í•œê°€ìš”?</div>
                <div>A. ë„¤, ëª¨ë“  ì£¼ì‚¬ìœ„ ê²°ê³¼ëŠ” ì„œë²„ì—ì„œ ìƒì„±ëœ ë‚œìˆ˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, í´ë¼ì´ì–¸íŠ¸ ì¡°ì‘ì´ ë¶ˆê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.</div>
            </div>
        </div>

        <div style="margin-top: 30px; padding: 20px; background: #e7f3ff; border-radius: 8px;">
            <h3>ê°œì¸ì •ë³´ ë³´í˜¸</h3>
            <p>ë¬¸ì˜ ì‹œ ì œê³µí•´ì£¼ì‹œëŠ” ê°œì¸ì •ë³´ëŠ” ë¬¸ì˜ ì²˜ë¦¬ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©ë˜ë©°, ì²˜ë¦¬ ì™„ë£Œ í›„ ì¦‰ì‹œ íŒŒê¸°ë©ë‹ˆë‹¤.</p>
        </div>

        <!-- ê°œì„ ì‚¬í•­ ê²Œì‹œíŒ -->
        <div class="board-section">
            <h2 style="color: #667eea; margin-bottom: 20px;">ğŸ’¡ ê°œì„ ì‚¬í•­ ê²Œì‹œíŒ</h2>
            <p style="color: #666; margin-bottom: 20px;">ì„œë¹„ìŠ¤ ê°œì„ ì„ ìœ„í•œ ì˜ê²¬ì„ ë‚¨ê²¨ì£¼ì„¸ìš”. ë²„ê·¸ ì‹ ê³ , ê¸°ëŠ¥ ì œì•ˆ, ë¶ˆí¸ì‚¬í•­ ë“± ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”.</p>
            
            <form class="board-form" autocomplete="off" onsubmit="event.preventDefault(); submitSuggestion();">
                <input type="text" id="userNameInput" placeholder="ì´ë¦„ (í•„ìˆ˜)" maxlength="20" autocomplete="off" required>
                <input type="text" id="suggestionTitle" placeholder="ì œëª© (í•„ìˆ˜)" maxlength="100" autocomplete="off" required>
                <input type="text" id="suggestionPassword" placeholder="ì‚­ì œ ì½”ë“œ (í•„ìˆ˜, ì‚­ì œ ì‹œ ì‚¬ìš©, ìˆ«ìë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.)" maxlength="50" autocomplete="off" required>
                <textarea id="suggestionContent" placeholder="ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš” (í•„ìˆ˜, ìµœëŒ€ 2000ì)" maxlength="2000" autocomplete="off" required></textarea>
                <div id="errorMessage" class="error-message" style="display: none;"></div>
                <button type="submit" id="submitBtn">ê²Œì‹œê¸€ ì‘ì„±</button>
            </form>

            <div class="suggestions-list" id="suggestionsList">
                <div class="empty-message">ê²Œì‹œê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
            </div>
        </div>
    </div>

    <!-- ì‚­ì œì½”ë“œ ì…ë ¥ ëª¨ë‹¬ -->
    <div id="passwordModal" class="modal">
        <div class="modal-content">
            <form autocomplete="off" onsubmit="event.preventDefault(); confirmDelete();">
                <h3>ì‚­ì œì½”ë“œ ì…ë ¥</h3>
                <p style="color: #666; font-size: 14px; margin-bottom: 15px;">ê²Œì‹œê¸€ ì‘ì„± ì‹œ ì…ë ¥í•œ ì‚­ì œì½”ë“œ ë˜ëŠ” ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>
                <input type="password" id="passwordInput" placeholder="ì‚­ì œì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”" autocomplete="off" data-lpignore="true" data-form-type="other">
                <div id="modalErrorMessage" class="error-message" style="display: none;"></div>
                <div class="modal-buttons">
                    <button type="button" class="cancel-btn" onclick="closePasswordModal()">ì·¨ì†Œ</button>
                    <button type="submit" class="confirm-btn">í™•ì¸</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        const socket = io();
        let currentUserName = localStorage.getItem('suggestionUserName') || '';
        let suggestions = [];
        let pendingDeleteId = null; // ì‚­ì œ ëŒ€ê¸° ì¤‘ì¸ ê²Œì‹œê¸€ ID

        // ì´ë¦„ ì…ë ¥ í•„ë“œì— ì €ì¥ëœ ì´ë¦„ í‘œì‹œ
        if (currentUserName) {
            document.getElementById('userNameInput').value = currentUserName;
        }

        // ì´ë¦„ ì…ë ¥ ì‹œ ì €ì¥
        document.getElementById('userNameInput').addEventListener('input', (e) => {
            currentUserName = e.target.value.trim();
            if (currentUserName) {
                localStorage.setItem('suggestionUserName', currentUserName);
            }
            // ì´ë¦„ì´ ë³€ê²½ë˜ë©´ ê²Œì‹œê¸€ ëª©ë¡ ë‹¤ì‹œ ë Œë”ë§ (ì‚­ì œ ë²„íŠ¼ í‘œì‹œ ì—…ë°ì´íŠ¸)
            renderSuggestions();
        });

        // ì‚­ì œì½”ë“œ í•„ë“œ: ìˆ«ìë§Œ ì…ë ¥ ê°€ëŠ¥
        document.getElementById('suggestionPassword').addEventListener('input', (e) => {
            // ìˆ«ìê°€ ì•„ë‹Œ ë¬¸ì ì œê±°
            e.target.value = e.target.value.replace(/[^0-9]/g, '');
        });

        // ì‚­ì œì½”ë“œ í•„ë“œ: ë¶™ì—¬ë„£ê¸° ì‹œì—ë„ ìˆ«ìë§Œ í—ˆìš©
        document.getElementById('suggestionPassword').addEventListener('paste', (e) => {
            e.preventDefault();
            const paste = (e.clipboardData || window.clipboardData).getData('text');
            const numbersOnly = paste.replace(/[^0-9]/g, '');
            e.target.value = numbersOnly;
        });

        // ê²Œì‹œíŒ ëª©ë¡ ìˆ˜ì‹ 
        socket.on('suggestionsList', (data) => {
            suggestions = data;
            renderSuggestions();
        });

        // ì—ëŸ¬ ë©”ì‹œì§€ ìˆ˜ì‹ 
        socket.on('suggestionError', (message) => {
            showError(message);
        });

        // ê²Œì‹œíŒ ì¡°íšŒ ìš”ì²­
        socket.on('connect', () => {
            socket.emit('getSuggestions');
        });

        // ê²Œì‹œê¸€ ì‘ì„±
        function submitSuggestion() {
            const userName = document.getElementById('userNameInput').value.trim();
            const title = document.getElementById('suggestionTitle').value.trim();
            const password = document.getElementById('suggestionPassword').value.trim();
            const content = document.getElementById('suggestionContent').value.trim();

            if (!userName || !title || !password || !content) {
                showError('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            currentUserName = userName;
            socket.emit('createSuggestion', { userName, title, password, content });
            
            // í¼ ì´ˆê¸°í™”
            document.getElementById('suggestionTitle').value = '';
            document.getElementById('suggestionPassword').value = '';
            document.getElementById('suggestionContent').value = '';
            hideError();
        }

        // ê²Œì‹œê¸€ ì‚­ì œ
        function deleteSuggestion(id) {
            pendingDeleteId = id;
            document.getElementById('passwordInput').value = '';
            document.getElementById('modalErrorMessage').style.display = 'none';
            document.getElementById('passwordModal').style.display = 'block';
            document.getElementById('passwordInput').focus();
        }

        // ì‚­ì œì½”ë“œ ëª¨ë‹¬ ë‹«ê¸°
        function closePasswordModal() {
            document.getElementById('passwordModal').style.display = 'none';
            pendingDeleteId = null;
            document.getElementById('passwordInput').value = '';
            document.getElementById('modalErrorMessage').style.display = 'none';
        }

        // ì‚­ì œ í™•ì¸
        function confirmDelete() {
            const password = document.getElementById('passwordInput').value;
            
            if (!password) {
                const errorDiv = document.getElementById('modalErrorMessage');
                errorDiv.textContent = 'ì‚­ì œì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                errorDiv.style.display = 'block';
                return;
            }

            if (!pendingDeleteId) {
                closePasswordModal();
                return;
            }

            if (confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                socket.emit('deleteSuggestion', { 
                    id: pendingDeleteId, 
                    password 
                });
                closePasswordModal();
            }
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const modal = document.getElementById('passwordModal');
            if (event.target === modal) {
                closePasswordModal();
            }
        }

        // Enter í‚¤ë¡œ í™•ì¸
        document.getElementById('passwordInput').addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                confirmDelete();
            } else if (e.key === 'Escape') {
                closePasswordModal();
            }
        });

        // ê²Œì‹œê¸€ ëª©ë¡ ë Œë”ë§
        function renderSuggestions() {
            const container = document.getElementById('suggestionsList');
            
            if (suggestions.length === 0) {
                container.innerHTML = '<div class="empty-message">ì•„ì§ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ ê²Œì‹œê¸€ì„ ì‘ì„±í•´ë³´ì„¸ìš”!</div>';
                return;
            }

            container.innerHTML = suggestions.map(suggestion => `
                <div class="suggestion-item">
                    <div class="suggestion-header">
                        <h3 class="suggestion-title">${escapeHtml(suggestion.title)}</h3>
                        <button class="delete-btn" onclick="deleteSuggestion('${suggestion.id}')">ì‚­ì œ</button>
                    </div>
                    <div class="suggestion-meta">
                        ì‘ì„±ì: ${escapeHtml(suggestion.userName)} | ${suggestion.date} ${suggestion.time}
                    </div>
                    <div class="suggestion-content">${escapeHtml(suggestion.content).replace(/\n/g, '<br>')}</div>
                </div>
            `).join('');
        }

        // ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
            setTimeout(hideError, 5000);
        }

        // ì—ëŸ¬ ë©”ì‹œì§€ ìˆ¨ê¹€
        function hideError() {
            document.getElementById('errorMessage').style.display = 'none';
        }

        // HTML ì´ìŠ¤ì¼€ì´í”„
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Enter í‚¤ë¡œ ì œì¶œ (Ctrl+Enter ë˜ëŠ” Shift+Enter)
        document.getElementById('suggestionContent').addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && (e.ctrlKey || e.shiftKey)) {
                submitSuggestion();
            }
        });
    </script>
</body>
</html>

